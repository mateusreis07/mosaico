generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Event {
  id            String      @id @default(uuid())
  name          String
  fallbackColor String      @default("#000000")
  isActive      Boolean     @default(false)
  createdAt     DateTime    @default(now())
  seats         SeatEvent[]
}

model Seat {
  id     String      @id // "A-12-34"
  sector String
  row    String
  number String
  events SeatEvent[]
}

model SeatEvent {
  id        String   @id @default(uuid())
  seatId    String
  eventId   String
  color     String // "#FF0000"
  seat      Seat     @relation(fields: [seatId], references: [id])
  event     Event    @relation(fields: [eventId], references: [id])
  updatedAt DateTime @updatedAt

  @@unique([seatId, eventId])
}
